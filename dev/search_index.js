var documenterSearchIndex = {"docs":
[{"location":"models/population/#Population-Dynamics","page":"Population Dynamics","title":"Population Dynamics","text":"","category":"section"},{"location":"models/population/#Malthusian-Model","page":"Population Dynamics","title":"Malthusian Model","text":"The Malthusian logistic growth model describes population dynamics constrained by carrying capacity:\n\nfracdNdt = rNleft(1 - fracNKright)\n\nwhere:\n\nN = population size\nr = intrinsic growth rate\nK = carrying capacity (resource-limited maximum)","category":"section"},{"location":"models/population/#Demographic-Structural-Theory","page":"Population Dynamics","title":"Demographic-Structural Theory","text":"The DST model couples three state variables in a system of ODEs:\n\nPopulation (N): Grows logistically, modulated by state capacity\nElites (E): Produced from population, subject to competition\nState capacity (S): Revenue from taxation, eroded by elite demands","category":"section"},{"location":"models/population/#Population-Pressure","page":"Population Dynamics","title":"Population Pressure","text":"Measure demographic stress relative to carrying capacity:","category":"section"},{"location":"data/#Data-Integration","page":"Data Integration","title":"Data Integration","text":"","category":"section"},{"location":"data/#Seshat-Global-History-Databank","page":"Data Integration","title":"Seshat Global History Databank","text":"Seshat is a large-scale, systematic database of historical and archaeological data covering hundreds of polities across millennia. Cliodynamics.jl provides functions to load and prepare Seshat-format data for analysis.","category":"section"},{"location":"data/#Loading-Data","page":"Data Integration","title":"Loading Data","text":"","category":"section"},{"location":"data/#Preparing-Data","page":"Data Integration","title":"Preparing Data","text":"","category":"section"},{"location":"data/#Example-Pipeline","page":"Data Integration","title":"Example Pipeline","text":"using Cliodynamics\nusing DataFrames\n\n# Load raw data\nraw = load_seshat_csv(\"data/seshat_sample.csv\")\n\n# Filter to Roman polities\nroman = prepare_seshat_data(raw)\nroman = filter(row -> occursin(\"Rom\", string(row.polity)), roman)\nsort!(roman, :year)\n\n# Compute elite overproduction across Roman history\neoi = elite_overproduction_index(roman)\n\n# Fit population model to English data\nenglish = filter(row -> occursin(\"Eng\", string(row.polity)), prepare_seshat_data(raw))\nsort!(english, :year)\nfit = fit_malthusian(Float64.(english.year), Float64.(english.population),\n                     r_init=0.005, K_init=2_000_000.0)","category":"section"},{"location":"data/#Data-Format","page":"Data Integration","title":"Data Format","text":"Seshat CSV files support:\n\nComment lines starting with #\nStandard header row with column names\nAutomatic numeric type detection\n\nRequired columns vary by analysis function. Common columns:\n\nyear — Calendar year (negative for BCE)\npolity — Polity identifier\npopulation — Population count\nelites — Elite population count\nterritory — Territorial extent","category":"section"},{"location":"models/cycles/#Secular-Cycles","page":"Secular Cycles","title":"Secular Cycles","text":"","category":"section"},{"location":"models/cycles/#Overview","page":"Secular Cycles","title":"Overview","text":"Secular cycles are long-term oscillations (150-300 years) identified by Turchin and Nefedov in agrarian societies. Each cycle passes through four phases:\n\nExpansion: Low population pressure, state strengthening, prosperity\nStagflation: Rising pressure, elite overproduction begins\nCrisis: Political instability, state breakdown, conflict\nDepression/Intercycle: Population decline, elite winnowing, recovery","category":"section"},{"location":"models/cycles/#Cycle-Analysis","page":"Secular Cycles","title":"Cycle Analysis","text":"Detect secular cycles in time series data using trend-cycle decomposition:","category":"section"},{"location":"models/cycles/#Phase-Detection","page":"Secular Cycles","title":"Phase Detection","text":"Classify each time point into one of the four secular cycle phases:","category":"section"},{"location":"api/#API-Reference","page":"API Reference","title":"API Reference","text":"","category":"section"},{"location":"api/#Types","page":"API Reference","title":"Types","text":"","category":"section"},{"location":"api/#Models","page":"API Reference","title":"Models","text":"","category":"section"},{"location":"api/#Indicators","page":"API Reference","title":"Indicators","text":"","category":"section"},{"location":"api/#Secular-Cycles","page":"API Reference","title":"Secular Cycles","text":"","category":"section"},{"location":"api/#Model-Fitting","page":"API Reference","title":"Model Fitting","text":"","category":"section"},{"location":"api/#Data-Integration","page":"API Reference","title":"Data Integration","text":"","category":"section"},{"location":"api/#Utilities","page":"API Reference","title":"Utilities","text":"","category":"section"},{"location":"api/#Spatial-Models","page":"API Reference","title":"Spatial Models","text":"","category":"section"},{"location":"api/#Cliodynamics.MalthusianParams","page":"API Reference","title":"Cliodynamics.MalthusianParams","text":"MalthusianParams\n\nParameters for basic Malthusian population dynamics model.\n\nFields\n\nr::Float64: Intrinsic growth rate (per capita)\nK::Float64: Environmental carrying capacity\nN0::Float64: Initial population size\n\n\n\n\n\n","category":"type"},{"location":"api/#Cliodynamics.DemographicStructuralParams","page":"API Reference","title":"Cliodynamics.DemographicStructuralParams","text":"DemographicStructuralParams\n\nParameters for Turchin's demographic-structural theory model.\n\nFields\n\nr::Float64: Population growth rate\nK::Float64: Carrying capacity\nw::Float64: Elite wages relative to common wages\nδ::Float64: Elite death/retirement rate\nε::Float64: Elite production rate\nN0::Float64: Initial population\nE0::Float64: Initial elite population\nS0::Float64: Initial state fiscal capacity\n\n\n\n\n\n","category":"type"},{"location":"api/#Cliodynamics.StateCapacityParams","page":"API Reference","title":"Cliodynamics.StateCapacityParams","text":"StateCapacityParams\n\nParameters for state capacity and collective action modeling.\n\nFields\n\nτ::Float64: Tax rate\nα::Float64: Administrative efficiency\nβ::Float64: Military effectiveness\nγ::Float64: Institutional quality\n\n\n\n\n\n","category":"type"},{"location":"api/#Cliodynamics.SecularCyclePhase","page":"API Reference","title":"Cliodynamics.SecularCyclePhase","text":"SecularCyclePhase\n\nEnumeration of secular cycle phases according to Turchin-Nefedov model.\n\nExpansion: Population growth, state strengthening, low instability\nStagflation: Population pressure, elite overproduction begins\nCrisis: Political instability, state breakdown, social conflict\nDepression: Population decline, elite reduction, recovery begins\n\n\n\n\n\n","category":"type"},{"location":"api/#Cliodynamics.InstabilityEvent","page":"API Reference","title":"Cliodynamics.InstabilityEvent","text":"InstabilityEvent\n\nRecord of a political instability event.\n\nFields\n\nyear::Int: Year of event\nintensity::Float64: Magnitude (0-1 scale)\ntype::Symbol: Event type (:rebellion, :coup, :revolution, :war)\n\n\n\n\n\n","category":"type"},{"location":"api/#Cliodynamics.malthusian_model","page":"API Reference","title":"Cliodynamics.malthusian_model","text":"malthusian_model(params::MalthusianParams; tspan=(0.0, 100.0))\n\nSimulate basic Malthusian population dynamics with logistic growth.\n\nThe model follows the differential equation:\n\ndN/dt = r*N*(1 - N/K)\n\nwhere N is population, r is intrinsic growth rate, and K is carrying capacity.\n\nArguments\n\nparams::MalthusianParams: Model parameters\ntspan::Tuple{Float64,Float64}: Time span for simulation (start, end)\n\nReturns\n\nODESolution: Solution object containing time series of population\n\nExamples\n\nparams = MalthusianParams(r=0.02, K=1000.0, N0=100.0)\nsol = malthusian_model(params, tspan=(0.0, 200.0))\nplot(sol)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.demographic_structural_model","page":"API Reference","title":"Cliodynamics.demographic_structural_model","text":"demographic_structural_model(params::DemographicStructuralParams; tspan=(0.0, 300.0))\n\nSimulate Turchin's demographic-structural theory (DST) model.\n\nThe DST model couples three subsystems:\n\nPopulation dynamics with Malthusian pressure\nElite dynamics with overproduction\nState fiscal capacity and breakdown\n\nModel Equations\n\ndN/dt = r*N*(1 - N/K) - conflict_deaths\ndE/dt = ε*N - δ*E - elite_conflict\ndS/dt = τ*N - α*S - β*instability\n\nArguments\n\nparams::DemographicStructuralParams: Model parameters\ntspan::Tuple{Float64,Float64}: Time span (typically 200-300 years for secular cycles)\n\nReturns\n\nODESolution: Solution with [N(t), E(t), S(t)]\n\nExamples\n\nparams = DemographicStructuralParams(\n    r=0.015, K=1000.0, w=2.0, δ=0.03, ε=0.001,\n    N0=500.0, E0=10.0, S0=100.0\n)\nsol = demographic_structural_model(params, tspan=(0.0, 300.0))\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.state_capacity_model","page":"API Reference","title":"Cliodynamics.state_capacity_model","text":"state_capacity_model(params::StateCapacityParams, population::Float64, elites::Float64)\n\nCalculate state capacity from fiscal and institutional parameters.\n\nState capacity is the ability to implement policy, extract resources, and maintain order. This follows Turchin's framework incorporating tax revenue, administrative efficiency, and military power.\n\nArguments\n\nparams::StateCapacityParams: State parameters\npopulation::Float64: Current population\nelites::Float64: Current elite population\n\nReturns\n\nFloat64: State capacity index\n\nFormula\n\nS = α*T + β*M + γ*I\n\nwhere T = tax revenue, M = military strength, I = institutional quality\n\nExamples\n\nparams = StateCapacityParams(τ=0.15, α=1.0, β=0.8, γ=0.5)\ncapacity = state_capacity_model(params, 1000.0, 50.0)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.collective_action_problem","page":"API Reference","title":"Cliodynamics.collective_action_problem","text":"collective_action_problem(group_size::Int, benefit::Float64, cost::Float64)\n\nModel collective action problem in state formation.\n\nBased on Olson's logic of collective action and Turchin's application to historical state formation.\n\nArguments\n\ngroup_size::Int: Number of potential contributors\nbenefit::Float64: Total benefit if collective action succeeds\ncost::Float64: Individual cost of participation\n\nReturns\n\nFloat64: Probability of successful collective action\n\nExamples\n\n# Small group, high benefit\nprob = collective_action_problem(10, 1000.0, 10.0)  # High probability\n\n# Large group, low benefit\nprob = collective_action_problem(1000, 100.0, 1.0)  # Low probability\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.elite_overproduction_index","page":"API Reference","title":"Cliodynamics.elite_overproduction_index","text":"elite_overproduction_index(data::DataFrame)\n\nCalculate elite overproduction index from historical data.\n\nElite overproduction occurs when the supply of elite aspirants exceeds available elite positions, leading to intra-elite competition and political instability.\n\nArguments\n\ndata::DataFrame: Must contain columns :year, :population, :elites\n\nReturns\n\nDataFrame: Time series with :year, :eoi (Elite Overproduction Index)\n\nFormula\n\nEOI = (E/N) / (E/N)_baseline - 1\n\nwhere baseline is the mean ratio during stable periods.\n\nExamples\n\ndata = DataFrame(\n    year = 1800:1900,\n    population = 100_000:1000:200_000,\n    elites = [1000 + 10*i + 5*i^1.5 for i in 0:100]\n)\neoi = elite_overproduction_index(data)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.political_stress_indicator","page":"API Reference","title":"Cliodynamics.political_stress_indicator","text":"political_stress_indicator(data::DataFrame)\n\nCalculate Turchin's Political Stress Indicator (PSI).\n\nPSI combines three main factors:\n\nMass mobilization potential (MMP) - relative wage decline, popular immiseration\nElite mobilization potential (EMP) - elite overproduction\nState fiscal distress (SFD) - revenue crisis\n\nArguments\n\ndata::DataFrame: Must contain :year, :real_wages, :elite_ratio, :state_revenue\n\nReturns\n\nDataFrame: Time series with :year, :psi, :mmp, :emp, :sfd\n\nFormula\n\nPSI = w_mmp*MMP + w_emp*EMP + w_sfd*SFD\n\nwhere weights typically are: wmmp=0.4, wemp=0.4, w_sfd=0.2\n\nExamples\n\ndata = DataFrame(\n    year = 1800:1900,\n    real_wages = 100.0 .- (0:100).^1.2,\n    elite_ratio = 0.01 .+ (0:100)./5000,\n    state_revenue = 1000.0 .- (0:100).^1.5\n)\npsi_result = political_stress_indicator(data)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.instability_probability","page":"API Reference","title":"Cliodynamics.instability_probability","text":"instability_probability(psi::Float64)\n\nConvert Political Stress Indicator to instability event probability.\n\nUses logistic transformation based on empirical calibration.\n\nArguments\n\npsi::Float64: Political Stress Indicator value\n\nReturns\n\nFloat64: Probability of instability event (0-1)\n\nExamples\n\np = instability_probability(0.5)  # Moderate stress\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.conflict_intensity","page":"API Reference","title":"Cliodynamics.conflict_intensity","text":"conflict_intensity(events::Vector{InstabilityEvent}; window::Int=10)\n\nCalculate conflict intensity over time from instability events.\n\nArguments\n\nevents::Vector{InstabilityEvent}: Historical instability events\nwindow::Int: Rolling window size in years\n\nReturns\n\nDataFrame: Time series with :year and :intensity\n\nExamples\n\nevents = [\n    InstabilityEvent(1820, 0.3, :rebellion),\n    InstabilityEvent(1848, 0.8, :revolution),\n    InstabilityEvent(1871, 0.6, :war)\n]\nintensity = conflict_intensity(events, window=5)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.crisis_threshold","page":"API Reference","title":"Cliodynamics.crisis_threshold","text":"crisis_threshold(indicator::Vector{Float64}, percentile::Float64=0.9)\n\nDetermine crisis threshold from historical indicator distribution.\n\nArguments\n\nindicator::Vector{Float64}: Historical stress indicator values\npercentile::Float64: Percentile to use as threshold (default: 90th)\n\nReturns\n\nFloat64: Threshold value above which indicates crisis\n\nExamples\n\npsi_values = rand(100)\nthreshold = crisis_threshold(psi_values, 0.95)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.instability_events","page":"API Reference","title":"Cliodynamics.instability_events","text":"instability_events(data::DataFrame, threshold::Float64)\n\nExtract instability events from time series based on threshold crossing.\n\nArguments\n\ndata::DataFrame: Must contain :year and :indicator columns\nthreshold::Float64: Threshold value for event detection\n\nReturns\n\nVector{InstabilityEvent}: Detected events\n\nExamples\n\ndata = DataFrame(year = 1800:1900, indicator = rand(101))\nevents = instability_events(data, 0.7)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.population_pressure","page":"API Reference","title":"Cliodynamics.population_pressure","text":"population_pressure(population::Vector{Float64}, capacity::Float64)\n\nCalculate population pressure relative to carrying capacity.\n\nArguments\n\npopulation::Vector{Float64}: Population time series\ncapacity::Float64: Environmental/economic carrying capacity\n\nReturns\n\nVector{Float64}: Population pressure index (0 = no pressure, 1 = at capacity, >1 = overshoot)\n\nExamples\n\npop = [100.0, 150.0, 200.0, 250.0]\npressure = population_pressure(pop, 200.0)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.carrying_capacity_estimate","page":"API Reference","title":"Cliodynamics.carrying_capacity_estimate","text":"carrying_capacity_estimate(population::Vector{Float64}, resources::Vector{Float64})\n\nEstimate historical carrying capacity from population and resource data.\n\nUses optimization to find the carrying capacity K that best explains population dynamics under Malthusian constraints.\n\nArguments\n\npopulation::Vector{Float64}: Historical population data\nresources::Vector{Float64}: Resource proxy (e.g., agricultural output, GDP)\n\nReturns\n\nFloat64: Estimated carrying capacity\n\nExamples\n\npop = [100.0, 150.0, 180.0, 195.0, 198.0]\nres = [1000.0, 1500.0, 1800.0, 1950.0, 2000.0]\nK = carrying_capacity_estimate(pop, res)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.secular_cycle_analysis","page":"API Reference","title":"Cliodynamics.secular_cycle_analysis","text":"secular_cycle_analysis(timeseries::Vector{Float64}; window::Int=50)\n\nDetect and analyze secular cycles in historical time series.\n\nSecular cycles are long-term oscillations (150-300 years) in demographic, economic, and political variables. This function uses trend-cycle decomposition and spectral analysis to identify cycle characteristics.\n\nArguments\n\ntimeseries::Vector{Float64}: Historical data (e.g., population, prices, instability)\nwindow::Int: Window size for moving average detrending\n\nReturns\n\nNamedTuple: Contains :trend, :cycle, :period, :amplitude\n\nExamples\n\n# Synthetic data with ~200-year cycle\nt = 1:300\ndata = 100 .+ 50*sin.(2π*t/200) .+ 2*randn(300)\nanalysis = secular_cycle_analysis(data, window=50)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.detect_cycle_phases","page":"API Reference","title":"Cliodynamics.detect_cycle_phases","text":"detect_cycle_phases(data::DataFrame)\n\nClassify secular cycle phases using demographic-structural indicators.\n\nArguments\n\ndata::DataFrame: Must contain :year, :population_pressure, :elite_overproduction, :instability\n\nReturns\n\nDataFrame: Time series with :year and :phase::SecularCyclePhase\n\nPhase Classification Rules\n\nExpansion: Low pressure, low elite competition, low instability\nStagflation: High pressure, rising elite competition, moderate instability\nCrisis: High pressure, high elite competition, high instability\nDepression: Declining pressure, declining elites, declining instability\n\nExamples\n\ndata = DataFrame(\n    year = 1500:1800,\n    population_pressure = rand(301),\n    elite_overproduction = rand(301),\n    instability = rand(301)\n)\nphases = detect_cycle_phases(data)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.fit_malthusian","page":"API Reference","title":"Cliodynamics.fit_malthusian","text":"fit_malthusian(years::Vector{<:Real}, population::Vector{Float64};\n               r_init=0.01, K_init=nothing, method=NelderMead())\n\nFit Malthusian population model to observed data using Optim.jl.\n\nEstimates growth rate r and carrying capacity K from historical population time series by minimizing the sum of squared residuals between the ODE solution and observed data.\n\nArguments\n\nyears::Vector{<:Real}: Observation years\npopulation::Vector{Float64}: Observed population values\nr_init: Initial guess for growth rate (default: 0.01)\nK_init: Initial guess for carrying capacity (default: 1.2 × max population)\nmethod: Optim.jl optimization method (default: NelderMead())\n\nReturns\n\nNamedTuple: Contains :params (MalthusianParams), :loss, :converged\n\nExamples\n\nyears = collect(1800.0:1900.0)\npop = 100.0 .* exp.(0.02 .* (years .- 1800)) ./ (1 .+ (exp.(0.02 .* (years .- 1800)) .- 1) ./ 10)\nresult = fit_malthusian(years, pop)\nprintln(\"Estimated r: \", result.params.r, \", K: \", result.params.K)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.fit_demographic_structural","page":"API Reference","title":"Cliodynamics.fit_demographic_structural","text":"fit_demographic_structural(data::DataFrame; tspan=nothing, method=NelderMead())\n\nFit demographic-structural theory model to observed data using Optim.jl.\n\nEstimates model parameters (r, K, w, δ, ε) from a DataFrame containing :year, :population, :elites, and :state_capacity columns.\n\nArguments\n\ndata::DataFrame: Must contain :year, :population, :elites, :state_capacity\ntspan: Time span override (default: from data year range)\nmethod: Optim.jl optimization method (default: NelderMead())\n\nReturns\n\nNamedTuple: Contains :params (DemographicStructuralParams), :loss, :converged\n\nExamples\n\ndata = DataFrame(\n    year = 1500:1700,\n    population = ...,\n    elites = ...,\n    state_capacity = ...\n)\nresult = fit_demographic_structural(data)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.estimate_parameters","page":"API Reference","title":"Cliodynamics.estimate_parameters","text":"estimate_parameters(model_fn, observed::Vector{Float64}, years::Vector{<:Real},\n                    initial_params::Vector{Float64};\n                    method=NelderMead(), n_bootstrap=100)\n\nGeneric parameter estimation with bootstrap confidence intervals.\n\nFits arbitrary model functions to observed data and provides uncertainty estimates via bootstrap resampling.\n\nArguments\n\nmodel_fn: Function (params, years) -> predicted::Vector{Float64}\nobserved::Vector{Float64}: Observed data\nyears::Vector{<:Real}: Observation times\ninitial_params::Vector{Float64}: Initial parameter guesses\nmethod: Optim.jl optimization method\nn_bootstrap::Int: Number of bootstrap samples for confidence intervals\n\nReturns\n\nNamedTuple: Contains :params, :loss, :ci_lower, :ci_upper, :converged\n\nExamples\n\nmodel_fn(p, t) = p[1] .* exp.(p[2] .* (t .- t[1]))\nresult = estimate_parameters(model_fn, observed_data, years, [100.0, 0.01])\nprintln(\"95% CI for growth rate: [\", result.ci_lower[2], \", \", result.ci_upper[2], \"]\")\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.load_seshat_csv","page":"API Reference","title":"Cliodynamics.load_seshat_csv","text":"load_seshat_csv(filepath::String)\n\nLoad Seshat Global History Databank data from CSV format.\n\nReads a CSV file with Seshat-style columns and returns a DataFrame suitable for cliodynamic analysis. Expected columns include NGA (Natural Geographic Area), Polity, Variable, Value, and Date.\n\nSupports both the standard Seshat export format and simplified tabular format with columns: :year, :polity, :population, :territory, :social_complexity.\n\nArguments\n\nfilepath::String: Path to CSV file\n\nReturns\n\nDataFrame: Loaded and cleaned data\n\nExamples\n\ndata = load_seshat_csv(\"data/seshat_sample.csv\")\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.prepare_seshat_data","page":"API Reference","title":"Cliodynamics.prepare_seshat_data","text":"prepare_seshat_data(raw::DataFrame; polity::String=\"\")\n\nConvert Seshat-format data into Cliodynamics.jl analysis format.\n\nTransforms raw Seshat data with columns like :year, :population, :territory, :social_complexity into the format expected by political_stress_indicator, elite_overproduction_index, etc.\n\nArguments\n\nraw::DataFrame: Raw Seshat data (from load_seshat_csv)\npolity::String: Filter to specific polity (empty string = all)\n\nReturns\n\nDataFrame: Ready for cliodynamic analysis with standardized columns\n\nExamples\n\nraw = load_seshat_csv(\"data/seshat_sample.csv\")\ndata = prepare_seshat_data(raw, polity=\"RomPrinwordscp\")\neoi = elite_overproduction_index(data)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.moving_average","page":"API Reference","title":"Cliodynamics.moving_average","text":"moving_average(x::Vector{Float64}, window::Int)\n\nCalculate moving average for time series smoothing.\n\nArguments\n\nx::Vector{Float64}: Input time series\nwindow::Int: Window size (must be odd for symmetric smoothing)\n\nReturns\n\nVector{Float64}: Smoothed time series (same length as input)\n\nExamples\n\ndata = randn(100)\nsmoothed = moving_average(data, 11)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.detrend","page":"API Reference","title":"Cliodynamics.detrend","text":"detrend(x::Vector{Float64})\n\nRemove linear trend from time series.\n\nArguments\n\nx::Vector{Float64}: Input time series\n\nReturns\n\nVector{Float64}: Detrended series\n\nExamples\n\ndata = collect(1:100) .+ randn(100)\ndetrended = detrend(data)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.normalize_timeseries","page":"API Reference","title":"Cliodynamics.normalize_timeseries","text":"normalize_timeseries(x::Vector{Float64})\n\nNormalize time series to zero mean and unit variance.\n\nArguments\n\nx::Vector{Float64}: Input time series\n\nReturns\n\nVector{Float64}: Normalized series\n\nExamples\n\ndata = rand(100) .* 100\nnormalized = normalize_timeseries(data)\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.spatial_instability_diffusion","page":"API Reference","title":"Cliodynamics.spatial_instability_diffusion","text":"spatial_instability_diffusion(regions, adjacency; diffusion_rate=0.1, tspan=(0.0, 100.0))\n\nModel instability diffusion across connected regions.\n\nEach region has its own PSI dynamics, with instability spreading to neighbors via a diffusion term proportional to the PSI difference.\n\nArguments\n\nregions::Vector{NamedTuple}: Region parameters, each with :name, :psi0 (initial PSI), :growth_rate\nadjacency::Matrix{Float64}: Adjacency/connectivity matrix (symmetric, 0-1)\ndiffusion_rate::Float64: Rate of instability diffusion between neighbors (default: 0.1)\ntspan::Tuple: Time span for simulation\n\nReturns\n\nNamedTuple with:\n\nt::Vector{Float64}: Time points\npsi::Matrix{Float64}: PSI values (rows=time, cols=regions)\nregions::Vector{String}: Region names\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.territorial_competition_model","page":"API Reference","title":"Cliodynamics.territorial_competition_model","text":"territorial_competition_model(states; tspan=(0.0, 200.0))\n\nModel Lotka-Volterra style territorial competition between states.\n\nStates compete for territory proportional to their military capacity, which depends on population, state capacity, and technology.\n\nArguments\n\nstates::Vector{NamedTuple}: Each with :name, :territory0, :military, :growth_rate\ntspan::Tuple: Simulation time span\n\nReturns\n\nNamedTuple with:\n\nt::Vector{Float64}: Time points\nterritory::Matrix{Float64}: Territory (rows=time, cols=states)\nstates::Vector{String}: State names\n\n\n\n\n\n","category":"function"},{"location":"api/#Cliodynamics.frontier_formation_index","page":"API Reference","title":"Cliodynamics.frontier_formation_index","text":"frontier_formation_index(cultural_distances, populations, territories)\n\nCompute the meta-ethnic frontier formation index.\n\nBased on Turchin's theory that states form most readily at boundaries between culturally distinct groups (meta-ethnic frontiers).\n\nArguments\n\ncultural_distances::Matrix{Float64}: Pairwise cultural distance between groups\npopulations::Vector{Float64}: Population of each group\nterritories::Vector{Float64}: Territory of each group\n\nReturns\n\nVector{Float64}: Frontier formation index for each group (higher = more likely to form a state)\n\n\n\n\n\n","category":"function"},{"location":"fitting/#Model-Fitting","page":"Model Fitting","title":"Model Fitting","text":"","category":"section"},{"location":"fitting/#Malthusian-Fitting","page":"Model Fitting","title":"Malthusian Fitting","text":"Recover growth rate and carrying capacity from observed population data:","category":"section"},{"location":"fitting/#Demographic-Structural-Fitting","page":"Model Fitting","title":"Demographic-Structural Fitting","text":"Fit the full DST model to historical time series with population, elite, and state capacity data:","category":"section"},{"location":"fitting/#Generic-Parameter-Estimation","page":"Model Fitting","title":"Generic Parameter Estimation","text":"Fit arbitrary models with bootstrap confidence intervals:","category":"section"},{"location":"fitting/#Example","page":"Model Fitting","title":"Example","text":"using Cliodynamics\n\n# Define a custom growth model\nmodel_fn(p, t) = p[1] .* exp.(p[2] .* (t .- t[1]))\n\n# Observed data\nyears = collect(0.0:10.0:100.0)\nobserved = 100.0 .* exp.(0.02 .* years) .+ randn(length(years)) .* 5.0\n\n# Estimate with confidence intervals\nresult = estimate_parameters(model_fn, observed, years, [80.0, 0.01], n_bootstrap=200)\n\nprintln(\"A = $(round(result.params[1], digits=1)) [$(round(result.ci_lower[1], digits=1)), $(round(result.ci_upper[1], digits=1))]\")\nprintln(\"r = $(round(result.params[2], digits=5)) [$(round(result.ci_lower[2], digits=5)), $(round(result.ci_upper[2], digits=5))]\")","category":"section"},{"location":"models/instability/#Political-Instability","page":"Political Instability","title":"Political Instability","text":"","category":"section"},{"location":"models/instability/#Political-Stress-Indicator","page":"Political Instability","title":"Political Stress Indicator","text":"The PSI is a composite index combining three destabilizing forces:\n\ntextPSI = 04 cdot textMMP + 04 cdot textEMP + 02 cdot textSFD\n\nwhere:\n\nMMP (Mass Mobilization Potential): Popular immiseration from wage decline\nEMP (Elite Mobilization Potential): Elite overproduction and competition\nSFD (State Fiscal Distress): Revenue crisis undermining state capacity","category":"section"},{"location":"models/instability/#Instability-Probability","page":"Political Instability","title":"Instability Probability","text":"Convert continuous stress indicators into event probabilities using a sigmoid function:","category":"section"},{"location":"models/instability/#Conflict-Intensity","page":"Political Instability","title":"Conflict Intensity","text":"Aggregate discrete instability events into a continuous conflict intensity measure over time:","category":"section"},{"location":"models/instability/#Crisis-Detection","page":"Political Instability","title":"Crisis Detection","text":"","category":"section"},{"location":"models/spatial/#Spatial-Models","page":"Spatial Models","title":"Spatial Models","text":"Spatial cliodynamic models extend single-polity analysis to multi-region systems where instability, population pressure, and elite competition diffuse across borders.\n\nnote: v1.0.0 Feature\nSpatial models are available from Cliodynamics.jl v1.0.0 onwards.","category":"section"},{"location":"models/spatial/#Multi-Region-Interaction","page":"Spatial Models","title":"Multi-Region Interaction","text":"Model how instability in one region propagates to neighbors:","category":"section"},{"location":"models/spatial/#Territorial-Competition","page":"Spatial Models","title":"Territorial Competition","text":"Model state competition over territory and resources:","category":"section"},{"location":"models/spatial/#Frontier-Effects","page":"Spatial Models","title":"Frontier Effects","text":"Model the meta-ethnic frontier thesis — states form most readily at boundaries between culturally distinct groups:","category":"section"},{"location":"models/elites/#Elite-Dynamics","page":"Elite Dynamics","title":"Elite Dynamics","text":"","category":"section"},{"location":"models/elites/#Elite-Overproduction-Index","page":"Elite Dynamics","title":"Elite Overproduction Index","text":"The EOI measures when the supply of elite aspirants exceeds available elite positions:\n\ntextEOI = fracEN(EN)_textbaseline - 1\n\nPositive values indicate overproduction — more elite aspirants than the system can absorb, leading to intra-elite competition and political instability.","category":"section"},{"location":"models/elites/#Instability-Events","page":"Elite Dynamics","title":"Instability Events","text":"Extract discrete instability events from continuous indicator time series:","category":"section"},{"location":"models/state/#State-Formation","page":"State Formation","title":"State Formation","text":"","category":"section"},{"location":"models/state/#State-Capacity-Model","page":"State Formation","title":"State Capacity Model","text":"Models state capacity as a function of population size (tax base) and elite demands:\n\nS = tau cdot alpha cdot N^beta - gamma cdot E\n\nwhere:\n\ntau = tax rate\nalpha = administrative efficiency\nN = population, beta = returns to scale\ngamma = elite cost coefficient, E = elite population","category":"section"},{"location":"models/state/#Collective-Action","page":"State Formation","title":"Collective Action","text":"Models the probability of successful collective action as a function of group size, benefit, and cost:","category":"section"},{"location":"plotting/#Plotting","page":"Plotting","title":"Plotting","text":"Cliodynamics.jl provides plot recipes via a package extension that loads automatically when Plots.jl (or RecipesBase) is available.","category":"section"},{"location":"plotting/#Usage","page":"Plotting","title":"Usage","text":"using Cliodynamics\nusing Plots  # Triggers extension loading","category":"section"},{"location":"plotting/#Available-Recipes","page":"Plotting","title":"Available Recipes","text":"","category":"section"},{"location":"plotting/#Political-Stress-Indicator","page":"Plotting","title":"Political Stress Indicator","text":"psi_result = political_stress_indicator(data)\nplot(psi_result, Val(:psi))\n\nShows PSI composite line with MMP, EMP, and SFD component breakdown.","category":"section"},{"location":"plotting/#Elite-Overproduction-Index","page":"Plotting","title":"Elite Overproduction Index","text":"eoi_result = elite_overproduction_index(data)\nplot(eoi_result, Val(:eoi))\n\nShows EOI with zero baseline and filled area.","category":"section"},{"location":"plotting/#Secular-Cycle-Decomposition","page":"Plotting","title":"Secular Cycle Decomposition","text":"analysis = secular_cycle_analysis(timeseries, window=30)\nplot(analysis, Val(:secular_cycle))\n\nTwo-panel layout showing trend and cycle components.","category":"section"},{"location":"plotting/#Cycle-Phase-Timeline","page":"Plotting","title":"Cycle Phase Timeline","text":"phases = detect_cycle_phases(data)\nplot(phases, Val(:phases))\n\nScatter plot with phases color-coded: green (Expansion), yellow (Stagflation), red (Crisis), blue (Depression).","category":"section"},{"location":"plotting/#Conflict-Intensity","page":"Plotting","title":"Conflict Intensity","text":"intensity = conflict_intensity(events, window=10)\nplot(intensity, Val(:conflict))\n\nFilled area plot of conflict intensity over time.","category":"section"},{"location":"#Cliodynamics.jl","page":"Home","title":"Cliodynamics.jl","text":"Mathematical modeling and statistical analysis of historical dynamics.","category":"section"},{"location":"#What-is-Cliodynamics?","page":"Home","title":"What is Cliodynamics?","text":"Cliodynamics is the scientific study of historical dynamics — applying mathematical models and quantitative methods to understand long-term patterns in social complexity, state formation, demographic cycles, elite dynamics, and political instability.\n\nThis package implements frameworks from Peter Turchin's cliodynamics research program, providing Julia tools for:\n\nPopulation dynamics — Malthusian models, demographic-structural theory\nElite dynamics — Overproduction indices, intra-elite competition\nPolitical instability — Stress indicators, conflict intensity, instability probability\nSecular cycles — 150-300 year oscillation detection and phase classification\nState formation — Capacity models, collective action problems\nSpatial models — Multi-region interaction, instability diffusion\nModel fitting — Parameter estimation with bootstrap confidence intervals\nData integration — Seshat Global History Databank support","category":"section"},{"location":"#Installation","page":"Home","title":"Installation","text":"using Pkg\nPkg.add(\"Cliodynamics\")","category":"section"},{"location":"#Quick-Start","page":"Home","title":"Quick Start","text":"using Cliodynamics\nusing DataFrames\n\n# Model Malthusian population dynamics\nparams = MalthusianParams(r=0.02, K=1000.0, N0=100.0)\nsol = malthusian_model(params, tspan=(0.0, 200.0))\nprintln(\"Population at t=200: \", round(sol(200.0)[1], digits=1))\n\n# Calculate elite overproduction\ndata = DataFrame(\n    year = 1800:1900,\n    population = collect(100_000:1000:200_000),\n    elites = [1000 + 10*i + 5*i^1.5 for i in 0:100]\n)\neoi = elite_overproduction_index(data)\nprintln(\"Final EOI: \", round(eoi.eoi[end], digits=3))\n\nSee the Tutorial for a comprehensive walkthrough.","category":"section"},{"location":"#References","page":"Home","title":"References","text":"Turchin, P. (2003). Historical Dynamics: Why States Rise and Fall. Princeton University Press.\nTurchin, P. (2016). Ages of Discord. Beresta Books.\nTurchin, P. & Nefedov, S. A. (2009). Secular Cycles. Princeton University Press.\nTurchin, P. (2023). End Times. Penguin Press.","category":"section"},{"location":"tutorial/#Tutorial","page":"Tutorial","title":"Tutorial","text":"This tutorial walks through the core features of Cliodynamics.jl, from basic population models to full historical analysis pipelines.","category":"section"},{"location":"tutorial/#Population-Dynamics","page":"Tutorial","title":"Population Dynamics","text":"The simplest model is Malthusian logistic growth:\n\nusing Cliodynamics\n\nparams = MalthusianParams(r=0.02, K=1000.0, N0=100.0)\nsol = malthusian_model(params, tspan=(0.0, 200.0))\n\n# Interpolate at any time point\nprintln(\"t=0:   \", round(sol(0.0)[1], digits=1))\nprintln(\"t=100: \", round(sol(100.0)[1], digits=1))\nprintln(\"t=200: \", round(sol(200.0)[1], digits=1))","category":"section"},{"location":"tutorial/#Demographic-Structural-Theory","page":"Tutorial","title":"Demographic-Structural Theory","text":"The DST model couples population, elites, and state capacity in a system of ODEs:\n\nparams = DemographicStructuralParams(\n    r=0.015, K=1000.0, w=2.0, δ=0.03, ε=0.001,\n    N0=500.0, E0=10.0, S0=100.0\n)\nsol = demographic_structural_model(params, tspan=(0.0, 300.0))\n\n# Three state variables: Population, Elites, State capacity\nstate = sol(150.0)\nprintln(\"N=$(round(state[1],digits=1)), E=$(round(state[2],digits=1)), S=$(round(state[3],digits=1))\")","category":"section"},{"location":"tutorial/#Elite-Overproduction","page":"Tutorial","title":"Elite Overproduction","text":"Compute when elite numbers outpace available positions:\n\nusing DataFrames\n\ndata = DataFrame(\n    year = 1800:1900,\n    population = collect(100_000:1000:200_000),\n    elites = [1000 + 10*i + 5*i^1.5 for i in 0:100]\n)\n\neoi = elite_overproduction_index(data)\n# eoi.eoi contains the index values (positive = overproduction)","category":"section"},{"location":"tutorial/#Political-Stress-Indicator","page":"Tutorial","title":"Political Stress Indicator","text":"The PSI combines three destabilizing forces:\n\nstress_data = DataFrame(\n    year = 1800:1900,\n    real_wages = 100.0 .- collect(0:100).^1.2 ./ 10,\n    elite_ratio = 0.01 .+ collect(0:100) ./ 5000,\n    state_revenue = 1000.0 .- collect(0:100).^1.5 ./ 5\n)\n\npsi = political_stress_indicator(stress_data)\n# psi.psi = composite, psi.mmp, psi.emp, psi.sfd = components","category":"section"},{"location":"tutorial/#Secular-Cycle-Analysis","page":"Tutorial","title":"Secular Cycle Analysis","text":"Detect long-term oscillations and classify phases:\n\n# Detect cycles in time series data\ntimeseries = 100.0 .+ 50.0 .* sin.(2π .* (1:300) ./ 100) .+ 2 .* randn(300)\nanalysis = secular_cycle_analysis(Float64.(timeseries), window=30)\nprintln(\"Period: \", analysis.period, \" years\")\nprintln(\"Amplitude: \", round(analysis.amplitude, digits=2))","category":"section"},{"location":"tutorial/#Seshat-Data-Integration","page":"Tutorial","title":"Seshat Data Integration","text":"Load and analyze historical data from the Seshat Global History Databank:\n\nraw = load_seshat_csv(\"data/seshat_sample.csv\")\nroman = prepare_seshat_data(raw, polity=\"RomPrinworlds\")\n\n# Compute EOI across all Roman periods\nroman_all = filter(row -> occursin(\"Rom\", string(row.polity)), prepare_seshat_data(raw))\nsort!(roman_all, :year)\neoi = elite_overproduction_index(roman_all)","category":"section"},{"location":"tutorial/#Model-Fitting","page":"Tutorial","title":"Model Fitting","text":"Recover parameters from observed data:\n\n# Fit Malthusian model\nyears = collect(0.0:10.0:100.0)\npopulation = [50.0 * exp(0.03 * t) for t in years]\nresult = fit_malthusian(years, population, r_init=0.01, K_init=600.0)\nprintln(\"Fitted r=$(round(result.params.r, digits=4))\")\n\n# Generic estimation with confidence intervals\nmodel_fn(p, t) = p[1] .* exp.(p[2] .* (t .- t[1]))\nest = estimate_parameters(model_fn, population, years, [50.0, 0.02], n_bootstrap=200)\nprintln(\"95% CI for r: [$(round(est.ci_lower[2], digits=5)), $(round(est.ci_upper[2], digits=5))]\")","category":"section"},{"location":"tutorial/#Plotting","page":"Tutorial","title":"Plotting","text":"When Plots.jl is loaded, plot recipes activate automatically:\n\nusing Plots\n\n# PSI with component breakdown\nplot(psi, Val(:psi))\n\n# Elite overproduction\nplot(eoi, Val(:eoi))\n\n# Secular cycle decomposition\nplot(analysis, Val(:secular_cycle))","category":"section"}]
}
